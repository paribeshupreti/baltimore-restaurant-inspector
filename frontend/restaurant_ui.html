<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baltimore Restaurant Health Scores</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useRef, useEffect } = React;

        // Inline SVG icon components
        const AlertTriangle = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4M12 17h.01" />
            </svg>
        );

        const CheckCircle = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M22 11.08V12a10 10 0 1 1-5.93-9.14M9 11l3 3L22 4" />
            </svg>
        );

        const Search = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="11" cy="11" r="8" strokeWidth={2} />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m21 21-4.3-4.3" />
            </svg>
        );

        const MapPin = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z" />
                <circle cx="12" cy="10" r="3" strokeWidth={2} />
            </svg>
        );

        const Calendar = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect width="18" height="18" x="3" y="4" rx="2" ry="2" strokeWidth={2} />
                <line x1="16" x2="16" y1="2" y2="6" strokeWidth={2} />
                <line x1="8" x2="8" y1="2" y2="6" strokeWidth={2} />
                <line x1="3" x2="21" y1="10" y2="10" strokeWidth={2} />
            </svg>
        );

        const Clock = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" strokeWidth={2} />
                <polyline points="12 6 12 12 16 14" strokeWidth={2} />
            </svg>
        );

        const X = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M18 6 6 18M6 6l12 12" />
            </svg>
        );

        const Award = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="8" r="6" strokeWidth={2} />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11" />
            </svg>
        );

        const AlertOctagon = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2" strokeWidth={2} />
                <line x1="12" x2="12" y1="8" y2="12" strokeWidth={2} />
                <line x1="12" x2="12.01" y1="16" y2="16" strokeWidth={2} />
            </svg>
        );

        const ThumbsDown = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 14V2M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z" />
            </svg>
        );

        const Filter = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" strokeWidth={2} />
            </svg>
        );

        const ChevronDown = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m6 9 6 6 6-6" />
            </svg>
        );

        const Sun = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="4" strokeWidth={2} />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 2v2M12 20v2m-8.66-9.34 1.41 1.41m12.51 0 1.41-1.41M2 12h2M20 12h2m-3.93 7.07-1.41-1.41M6.34 6.34 4.93 4.93" />
            </svg>
        );

        const Moon = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
            </svg>
        );

        const Mail = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect width="20" height="16" x="2" y="4" rx="2" strokeWidth={2} />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
            </svg>
        );

        const Info = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" strokeWidth={2} />
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 16v-4M12 8h.01" />
            </svg>
        );

        const Send = ({ className = "w-6 h-6" }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m22 2-7 20-4-9-9-4ZM22 2 11 13" />
            </svg>
        );

        // Helper functions
        const zipcodeToNeighborhood = (zipcode) => {
            const neighborhoods = {
                '21201': 'Downtown', '21202': 'Inner Harbor', '21205': 'East Baltimore',
                '21206': 'Northeast', '21209': 'Mt. Washington', '21210': 'Hampden',
                '21211': 'Remington', '21212': 'Govans', '21213': 'Clifton Park',
                '21214': 'Hamilton', '21215': 'Park Heights', '21216': 'Mondawmin',
                '21217': 'Druid Heights', '21218': 'Charles Village', '21223': 'Pigtown',
                '21224': 'Canton', '21225': 'Brooklyn', '21226': 'Curtis Bay',
                '21227': 'Halethorpe', '21229': 'Westgate', '21230': 'Federal Hill',
                '21231': 'Fells Point', '21234': 'Parkville', '21236': 'Dundalk'
            };
            return neighborhoods[zipcode] || 'Baltimore';
        };

        const guessCuisine = (name) => {
            const nameLower = name.toLowerCase();
            if (nameLower.includes('seafood') || nameLower.includes('oyster') || nameLower.includes('crab')) return 'Seafood';
            if (nameLower.includes('sushi') || nameLower.includes('asian')) return 'Japanese';
            if (nameLower.includes('italian') || nameLower.includes('pasta') || nameLower.includes('pizza')) return 'Italian';
            if (nameLower.includes('chinese')) return 'Chinese';
            if (nameLower.includes('mexican') || nameLower.includes('taco')) return 'Mexican';
            if (nameLower.includes('cafe') || nameLower.includes('diner') || nameLower.includes('breakfast')) return 'American';
            if (nameLower.includes('thai')) return 'Thai';
            if (nameLower.includes('burger') || nameLower.includes('grill')) return 'American';
            return 'Unknown';
        };

        const transformRestaurantData = (restaurants) => {
            return restaurants.map(r => ({
                id: r.id,
                name: r.name || 'Unknown Restaurant',
                address: r.address || 'Address not available',
                score: r.score || 0,
                lastInspection: r.last_inspection || 'N/A',
                violations: r.violations ? r.violations.map(v => v.description) : [],
                cuisine: guessCuisine(r.name || ''),
                trend: 'stable',
                neighborhood: zipcodeToNeighborhood(r.zipcode) || 'Baltimore',
                critical: r.score ? r.score < 70 : false,
                zipcode: r.zipcode || 'Unknown'
            }));
        };

        const getScoreEmoji = (score) => {
            if (score >= 95) return "üåü";
            if (score >= 90) return "‚úÖ";
            if (score >= 80) return "üëç";
            if (score >= 70) return "‚ö†Ô∏è";
            return "üö´";
        };

        const getScoreLabel = (score) => {
            if (score >= 95) return "EXCELLENT";
            if (score >= 90) return "GREAT";
            if (score >= 80) return "GOOD";
            if (score >= 70) return "FAIR";
            return "POOR";
        };

        const getScoreBg = (score) => {
            if (score >= 90) return "from-emerald-500 to-green-600";
            if (score >= 80) return "from-yellow-500 to-amber-600";
            if (score >= 70) return "from-orange-500 to-orange-600";
            return "from-red-500 to-red-700";
        };

        function RestaurantHealthScores() {
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedRestaurant, setSelectedRestaurant] = useState(null);
            const [hoveredId, setHoveredId] = useState(null);
            const [showDropdown, setShowDropdown] = useState(false);
            const [activeFilter, setActiveFilter] = useState('all');
            const [showFilterMenu, setShowFilterMenu] = useState(false);
            const [darkMode, setDarkMode] = useState(true);
            const [showContactModal, setShowContactModal] = useState(false);
            const [showAboutModal, setShowAboutModal] = useState(false);
            const [contactForm, setContactForm] = useState({ name: '', email: '', message: '' });
            const [contactSubmitted, setContactSubmitted] = useState(false);
            const [restaurants, setRestaurants] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const searchRef = useRef(null);

            // Load restaurant data
            useEffect(() => {
                fetch('../data/test_baltimore_restaurants.json')
                    .then(res => {
                        if (!res.ok) throw new Error('Failed to load restaurant data');
                        return res.json();
                    })
                    .then(data => {
                        const transformed = transformRestaurantData(data);
                        setRestaurants(transformed);
                        setLoading(false);
                    })
                    .catch(err => {
                        console.error('Error loading restaurants:', err);
                        setError(err.message);
                        setLoading(false);
                    });
            }, []);

            useEffect(() => {
                const handleClickOutside = (e) => {
                    if (searchRef.current && !searchRef.current.contains(e.target)) {
                        setShowDropdown(false);
                    }
                };
                document.addEventListener('mousedown', handleClickOutside);
                return () => document.removeEventListener('mousedown', handleClickOutside);
            }, []);

            const searchResults = useMemo(() => {
                if (!searchTerm.trim() || restaurants.length === 0) return [];
                return restaurants.filter(r =>
                    r.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    r.cuisine.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    r.neighborhood.toLowerCase().includes(searchTerm.toLowerCase())
                ).slice(0, 5);
            }, [searchTerm, restaurants]);

            const filteredRestaurants = useMemo(() => {
                if (restaurants.length === 0) return [];
                let filtered = [...restaurants];
                if (activeFilter === 'excellent') filtered = filtered.filter(r => r.score >= 90);
                if (activeFilter === 'warning') filtered = filtered.filter(r => r.score < 80);
                if (activeFilter === 'recent') filtered = filtered.sort((a, b) => new Date(b.lastInspection) - new Date(a.lastInspection));
                if (activeFilter === 'all') filtered = filtered.sort((a, b) => a.score - b.score);
                return filtered;
            }, [activeFilter, restaurants]);

            const worstRestaurant = restaurants.length > 0 ? restaurants.reduce((a, b) => a.score < b.score ? a : b) : null;
            const bestRestaurant = restaurants.length > 0 ? restaurants.reduce((a, b) => a.score > b.score ? a : b) : null;

            const filters = [
                { id: 'all', label: 'All Restaurants', icon: 'üìã' },
                { id: 'excellent', label: 'Top Rated (90+)', icon: 'üåü' },
                { id: 'warning', label: 'Needs Work (<80)', icon: '‚ö†Ô∏è' },
                { id: 'recent', label: 'Recently Inspected', icon: 'üïê' }
            ];

            const handleContactSubmit = () => {
                if (!contactForm.name || !contactForm.email || !contactForm.message) {
                    alert('Please fill in all fields');
                    return;
                }
                console.log('Contact form submitted:', contactForm);
                setContactSubmitted(true);
                setTimeout(() => {
                    setShowContactModal(false);
                    setContactSubmitted(false);
                    setContactForm({ name: '', email: '', message: '' });
                }, 2000);
            };

            const t = {
                bg: darkMode ? 'bg-zinc-950' : 'bg-gray-50',
                text: darkMode ? 'text-white' : 'text-gray-900',
                muted: darkMode ? 'text-zinc-400' : 'text-gray-600',
                subtle: darkMode ? 'text-zinc-500' : 'text-gray-500',
                faint: darkMode ? 'text-zinc-600' : 'text-gray-400',
                border: darkMode ? 'border-zinc-800' : 'border-gray-200',
                borderLight: darkMode ? 'border-zinc-700' : 'border-gray-300',
                card: darkMode ? 'bg-zinc-900' : 'bg-white',
                cardHover: darkMode ? 'border-zinc-600' : 'border-gray-400',
                input: darkMode ? 'bg-zinc-900 border-zinc-700' : 'bg-white border-gray-300',
                dropdown: darkMode ? 'bg-zinc-900 border-zinc-700' : 'bg-white border-gray-200 shadow-lg',
            };

            if (loading) {
                return (
                    <div className={`min-h-screen ${t.bg} ${t.text} flex items-center justify-center`}>
                        <div className="text-center">
                            <div className="text-5xl mb-4 animate-bounce">ü¶Ä</div>
                            <p className="text-xl font-semibold">Loading Baltimore restaurants...</p>
                            <p className={`${t.subtle} text-sm mt-2`}>Please wait while we fetch the data</p>
                        </div>
                    </div>
                );
            }

            if (error) {
                return (
                    <div className={`min-h-screen ${t.bg} ${t.text} flex items-center justify-center p-4`}>
                        <div className="text-center max-w-md">
                            <div className="text-5xl mb-4">‚ùå</div>
                            <p className="text-xl font-semibold mb-2">Unable to load restaurant data</p>
                            <p className={`${t.subtle} text-sm mb-4`}>{error}</p>
                            <div className={`${t.card} border ${t.border} rounded-lg p-4 text-left text-sm space-y-2`}>
                                <p className="font-semibold">Make sure:</p>
                                <ol className="list-decimal list-inside space-y-1">
                                    <li>You're running via local server:<br/><code className="bg-zinc-800 px-2 py-1 rounded">python3 -m http.server 8000</code></li>
                                    <li>File <code className="bg-zinc-800 px-2 py-1 rounded">test_baltimore_restaurants.json</code> exists</li>
                                    <li>Run scraper first:<br/><code className="bg-zinc-800 px-2 py-1 rounded">python3 scraper.py --test</code></li>
                                </ol>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className={`min-h-screen ${t.bg} ${t.text}`}>
                    {/* Compact version - showing key features only */}
                    <div className={`${t.card} border-b ${t.border} sticky top-0 z-40`}>
                        <div className="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <span className="text-xl">ü¶Ä</span>
                                <span className="font-bold text-lg">Baltimore Food Safety</span>
                            </div>
                            <button
                                onClick={() => setDarkMode(!darkMode)}
                                className={`p-2 rounded-lg ${darkMode ? 'bg-zinc-800 hover:bg-zinc-700' : 'bg-gray-100 hover:bg-gray-200'} transition`}
                            >
                                {darkMode ? <Sun className="w-5 h-5 text-yellow-400" /> : <Moon className="w-5 h-5 text-gray-600" />}
                            </button>
                        </div>
                    </div>

                    {/* Stats */}
                    <div className={`border-b ${t.border} py-6`}>
                        <div className="max-w-5xl mx-auto px-4 grid grid-cols-4 gap-4 text-center">
                            <div><p className="text-2xl sm:text-3xl font-bold">{restaurants.length}</p><p className={`${t.subtle} text-xs sm:text-sm`}>Restaurants</p></div>
                            <div><p className="text-2xl sm:text-3xl font-bold text-emerald-500">{restaurants.filter(r => r.score >= 90).length}</p><p className={`${t.subtle} text-xs sm:text-sm`}>A-Rated</p></div>
                            <div><p className="text-2xl sm:text-3xl font-bold text-red-500">{restaurants.filter(r => r.score < 70).length}</p><p className={`${t.subtle} text-xs sm:text-sm`}>Failing</p></div>
                            <div><p className="text-2xl sm:text-3xl font-bold">{restaurants.length > 0 ? Math.round(restaurants.reduce((a, b) => a + b.score, 0) / restaurants.length) : 0}</p><p className={`${t.subtle} text-xs sm:text-sm`}>Average</p></div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="max-w-5xl mx-auto px-4 py-8">
                        {/* Best/Worst */}
                        {worstRestaurant && bestRestaurant && (
                            <div className="grid sm:grid-cols-2 gap-4 mb-8">
                                <div onClick={() => setSelectedRestaurant(worstRestaurant)} className={`${darkMode ? 'bg-gradient-to-br from-red-950 to-zinc-900 border-red-900/50' : 'bg-red-50 border-red-200'} border rounded-xl p-5 cursor-pointer hover:opacity-90 transition`}>
                                    <div className="flex items-center gap-2 text-red-500 text-sm font-semibold mb-2"><ThumbsDown className="w-4 h-4" />WORST</div>
                                    <h3 className="text-xl font-bold mb-1">{worstRestaurant.name}</h3>
                                    <p className={t.subtle + " text-sm mb-3"}>{worstRestaurant.neighborhood}</p>
                                    <span className="text-4xl font-black text-red-500">{worstRestaurant.score}</span>
                                    <span className="text-red-400 text-sm ml-3">{worstRestaurant.violations.length} violations</span>
                                </div>
                                <div onClick={() => setSelectedRestaurant(bestRestaurant)} className={`${darkMode ? 'bg-gradient-to-br from-emerald-950 to-zinc-900 border-emerald-900/50' : 'bg-emerald-50 border-emerald-200'} border rounded-xl p-5 cursor-pointer hover:opacity-90 transition`}>
                                    <div className="flex items-center gap-2 text-emerald-500 text-sm font-semibold mb-2"><Award className="w-4 h-4" />BEST</div>
                                    <h3 className="text-xl font-bold mb-1">{bestRestaurant.name}</h3>
                                    <p className={t.subtle + " text-sm mb-3"}>{bestRestaurant.neighborhood}</p>
                                    <span className="text-4xl font-black text-emerald-500">{bestRestaurant.score}</span>
                                    <span className="text-emerald-400 text-sm ml-3">{bestRestaurant.violations.length === 0 ? 'Zero violations' : `${bestRestaurant.violations.length} violations`}</span>
                                </div>
                            </div>
                        )}

                        {/* Restaurant List */}
                        <div className="space-y-3">
                            {filteredRestaurants.map((r) => (
                                <div
                                    key={r.id}
                                    onClick={() => setSelectedRestaurant(r)}
                                    onMouseEnter={() => setHoveredId(r.id)}
                                    onMouseLeave={() => setHoveredId(null)}
                                    className={`${t.card} border rounded-xl overflow-hidden cursor-pointer transition-all ${r.critical ? 'border-red-600' : hoveredId === r.id ? t.cardHover : t.border}`}
                                >
                                    <div className="flex">
                                        <div className={`w-16 sm:w-24 bg-gradient-to-b ${getScoreBg(r.score)} flex flex-col items-center justify-center py-4`}>
                                            <span className="text-2xl sm:text-3xl font-black text-white">{r.score}</span>
                                            <span className="text-xs font-semibold text-white/80 hidden sm:block">{getScoreLabel(r.score)}</span>
                                        </div>
                                        <div className="flex-1 p-3 sm:p-4">
                                            <div className="flex items-center gap-2 mb-1 flex-wrap">
                                                <span className="text-lg">{getScoreEmoji(r.score)}</span>
                                                <h3 className="font-bold text-base sm:text-lg">{r.name}</h3>
                                                {r.critical && <span className="bg-red-600 text-white text-xs px-2 py-0.5 rounded font-bold animate-pulse">CRITICAL</span>}
                                            </div>
                                            <p className={`${t.subtle} text-xs sm:text-sm`}>{r.cuisine} ‚Ä¢ {r.neighborhood}</p>
                                            {r.violations.length > 0 && (
                                                <p className="text-red-400 text-xs sm:text-sm mt-2 truncate">{r.violations.length} violation{r.violations.length > 1 ? 's' : ''}: {r.violations[0].substring(0, 40)}...</p>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Modal */}
                    {selectedRestaurant && (
                        <div className="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50" onClick={() => setSelectedRestaurant(null)}>
                            <div className={`${t.card} border ${t.borderLight} rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto`} onClick={(e) => e.stopPropagation()}>
                                <div className={`bg-gradient-to-r ${getScoreBg(selectedRestaurant.score)} p-6 text-center`}>
                                    <span className="text-6xl font-black text-white">{selectedRestaurant.score}</span>
                                    <p className="text-white/80 font-semibold mt-1">{getScoreLabel(selectedRestaurant.score)}</p>
                                </div>
                                <div className="p-6">
                                    <div className="flex justify-between items-start mb-4">
                                        <div>
                                            <h2 className="text-2xl font-bold">{selectedRestaurant.name}</h2>
                                            <p className={t.subtle}>{selectedRestaurant.cuisine} ‚Ä¢ {selectedRestaurant.address}</p>
                                        </div>
                                        <button onClick={() => setSelectedRestaurant(null)} className={`${t.subtle} hover:${t.text} p-1`}><X className="w-6 h-6" /></button>
                                    </div>
                                    <div className={`flex items-center gap-4 text-sm ${t.muted} mb-6 pb-6 border-b ${t.border}`}>
                                        <span className="flex items-center gap-1"><Calendar className="w-4 h-4" />Inspected {selectedRestaurant.lastInspection}</span>
                                        <span className="flex items-center gap-1"><MapPin className="w-4 h-4" />{selectedRestaurant.neighborhood}</span>
                                    </div>
                                    {selectedRestaurant.violations.length > 0 ? (
                                        <div>
                                            <h3 className="font-bold text-red-500 mb-3 flex items-center gap-2"><AlertTriangle className="w-5 h-5" />{selectedRestaurant.violations.length} Violation{selectedRestaurant.violations.length > 1 ? 's' : ''} Found</h3>
                                            <div className="space-y-2">
                                                {selectedRestaurant.violations.map((v, i) => (
                                                    <div key={i} className={`${darkMode ? 'bg-red-950/50 border-red-900/50' : 'bg-red-50 border-red-200'} border p-3 rounded-lg text-sm ${darkMode ? 'text-red-200' : 'text-red-700'}`}>{v}</div>
                                                ))}
                                            </div>
                                        </div>
                                    ) : (
                                        <div className={`${darkMode ? 'bg-emerald-950/50 border-emerald-900/50' : 'bg-emerald-50 border-emerald-200'} border rounded-xl p-6 text-center`}>
                                            <CheckCircle className="w-12 h-12 text-emerald-500 mx-auto mb-3" />
                                            <p className="font-bold text-emerald-500 text-lg">Passed with Flying Colors!</p>
                                            <p className={`${darkMode ? 'text-emerald-600' : 'text-emerald-700'} text-sm`}>No violations during last inspection</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<RestaurantHealthScores />);
    </script>
</body>
</html>
